- Создать ssh ключ
- Переидти в папку infra/terraform 
- В файле prod.tf в yandex_compute_instance и в yandex_compute_instance_group в блоке metadata указать путь к открытому ssh-ключу
- В файле variables.tf указать данные для подключения к облаку Yandex.Cloud а так же в переменных указать домены на которые будут направлены сервер с приложением и мониторинг например (example.com)
- Выполнить команду terraform init
- Выполнить команду terraform apply -auto-approve. Данные команды запустят создание виртуальных машин в облаке Yandex.Cloud.
в данном случае будут запущены: сервер на котором будет развернуто приложение в котейнере Docker, балансировщик нагрузки на который будет направлен домен и 2 сервера проксирующие запросы на основной сервер с приложением, сервера с Prometheus и Grafana 
- Чтобы запустить тесовый сервер нужно перейти в папку infra/terraform/test и проделать все то же самое. Тестовые сервера будут завернуты на таких же доменах но с префиксом test (например www.test.example.com) 
- Чтобы завести свой сервис в Gitlab необходимо зарегистрироваться на https://gitlab.com/
- После регистрации создать свой проект следуя инструкциям Gitlab
- Добавить репозиторий в проект
- В настройках проекта перейти на вкладку CI/CD и выбрать категорию  Runners
- Скопировать в файл runner_vars url и  registration token в соответствующие позиции в файле
- Скопировать логин и пароль Docker Hub в переменные DOCKERHUB_USERNAME и DOCKERHUB_PASSWORD в разделе настройки проекта CI/CD -> Variables 
- При пуше изменений в ветку uat пайплайн сработает для тестовых серверов, при пуше в ветку master для продакшена.
 
